// Generated by CoffeeScript 1.6.3
(function() {
  define(['jquery', 'tween', 'pixi'], function($) {
    var animate, engine, lastTime, renderer, stage;
    stage = new PIXI.Stage(0xEDC951, true);
    renderer = new PIXI.autoDetectRenderer(1000, 800, $('#mainCanvas').get(0));
    engine = {
      stage: stage,
      renderer: renderer,
      updateCallbacks: [],
      WIDTH: renderer.width,
      HEIGHT: renderer.height,
      timeMultiplier: 1,
      paused: false
    };
    lastTime = new Date();
    animate = function() {
      var callback, _i, _len, _ref;
      requestAnimFrame(animate);
      _ref = engine.updateCallbacks;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        callback = _ref[_i];
        callback();
      }
      engine.renderer.render(engine.stage);
      return TWEEN.update();
    };
    requestAnimFrame(animate);
    return engine;
  });

}).call(this);
